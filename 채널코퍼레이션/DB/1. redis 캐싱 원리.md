

```


5장에서는 레디스를 캐시로 사용하는 방법을 알아볼 것이다.
-> 캐시란 무엇인지, 어떤 상황에서 캐시를 사용해야 하는지, 레디스를 캐시로 잘 사용하는 방법과 주의해야 할 점까지 짚어보자.
-> 그리고 캐시와 비슷하면서도 다른 세션 스토어에 대해서도 함께 이야기할 것이다.

1) 레디스와 캐시
캐시란?
- 캐시란 데이터의 원본보다 더 빠르고 효율적으로 액세스할 수 있는 임시 데이터 저장소를 의미한다.
-> 그림 5-1에서와 같이 사용자가 동일한 정보를 반복적으로 액세스할 때 원본이 아니라 캐시에서 데이터를 가지고 옴으로써
   리소스를 줄일 수 있다.

-애플리케이션이 다음 조건을 만족시킨다면 캐시를 도입했을 때 성능을 효과적으로 개선할 수 있다

(1) 원본 데이터 저장소에서 원하는 데이터를 찾기 위해 검색하는 시간이 오래 걸리거나, 매번 계산을 통해 데이터를 가져와야 한다
(2) 캐시에서 데이터를 가져오는 것이 원본 데이터 저장소 데이터를 요청하는 것보다 빨라야 한다
(3) 캐시에 저장된 데이터는 잘 변하지 않는 데이터다
(4) 캐시에 저장된 데이터는 자주 검색되는 데이터다.

- 위의 조건을 만족시키는 이상적인 캐시는 애플리케이션이 직면하게 되는 많은 문제점을 해결할 수 있다
-> 우선 원본 데이터 저장소 데이터를 가지고 오는 시간을 단축시키기 때문에 애플리케이션의 응답 속도를 줄일 수 있다
-> 대기 시간 단축은 대부분의 애플리케이션에서 해결하고자 하는 가장 큰 이슈일 것이다.

- 캐시는 데이터의 복제본을 저장하는 저장소이기 때문에 원본 데이터 저장소에서 데이터를 읽는 커넥션을 줄일 수 있다
-> 캐시를 적절하게 배치함으로써 애플리케이션의 확장 또한 가능하다

- 또한 원본 데이터 저장소에서 데이터를 가져올 때 CPU와 메모리 등의 리소스를 많이 사용했다면,
  캐시를 사용함으로 애플리케이션 자체의 리소스를 줄일 수 있다
-> 같은 값을 도출하기 위해 계속 같은 계산을 할 필요가 없으므로 리소스를 최적화시킬 수 있게 된다.

- 서비스의 구성에 따라 다르겠지만, 중요한 데이터를 캐시에 올려두고 사용할 때
  원본 데이터 저장소에 장애가 발생해 접근할 수 없는 상황이 발생하더라도 캐시에서 데이터를 가지고 올 수 있기 때문에
  장애 시간을 줄일 수 있다는 장점이 존재한다.


2) 캐시로서의 레디스 
- 레디스는 우선 사용이 간단하다는 장점이 있다.
-> 단순하게 키-값 형태로 저장하므로, 데이터를 저장하고 반환하는 것이 굉장히 간단하며,
   자체적으로 다양한 자료 구조를 제공하기 때문에 애플리케이션에서 사용하던, list, hash 등의 자료 구조를 변환하는 과정 없이
   레디스에 바로 저장할 수 있다

- 또한 레디스는 모든 데이터를 메모리에 저장하는 인메모리 데이터 저장소이기 때문에
  데이터를 검색하고 반환하는 것이 상당히 빠르다는 특징을 갖고 있다
-> 관계형 데이터베이스에서는 테이블의 특정 데이터를 찾으려면 우선 디스크에 접근해 데이터를 검색해와야 한다
-> 하지만 레디스에서는 모든 데이터가 메모리 위에 존재하기 때문에 데이터에 접근하는 시간이 굉장히 빠르다
-> 평균 읽기 및 쓰기 작업 속도가 1ms 미만이며, 초당 수백만 건의 작업이 가능함을 의미한다.

- 레디스는 자체적으로 고가용성 기능을 가지고 있는 솔루션이라는 점도 큰 장점이다
-> 일부 캐싱 전략에서는 캐시에 접근할 수 없게 되면 이는 곧바로 서비스의 장애로 이어질 수도 있다
-> 따라서 캐시 저장소도 일반적인 데이터 저장소와 같이 안정적으로 운영될 수 있는 조건을 갖추는 것이 좋다
-> 레디스의 센티널 또는 클러스터 기능을 사용하면 마스터 노드의 장애를 자동으로 감지해 페일오버를 발생시키기 때문에
   운영자의 개입 없이 캐시는 정상으로 유지될 수 있어 가용성이 높아진다.

- 레디스의 클러스터를 사용하면 캐시의 스케일 아웃 또한 쉽게 처리할 수 있다
-> 서비스의 규모에 따라 캐시 자체의 규모도 늘어나야 할 상황이 발생할 수 있는데,
   자체 샤딩 솔루션인 클러스터를 사용하면 수평 확장이 굉장히 간단해진다는 장점이 존재한다.

- 따라서 레디스는 캐시 저장소 용도로 이상적이며 이미 수많은 애플리케이션이 레디스를 캐시 용도로 사용하고 있다
-> 다음으로는 애플리케이션에서 캐시를 배치하는 전략에 대해 알아보자.



```
